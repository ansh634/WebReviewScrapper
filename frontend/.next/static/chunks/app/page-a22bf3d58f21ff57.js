(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7058:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=r(5155),s=r(2115),l=r(2651);function n(e){let{selectedReviews:t}=e,[r,n]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[h,u]=(0,s.useState)(null),m=(0,s.useRef)(null),v=async()=>{if(!t||0===t.length){alert("Please select reviews first.");return}o(!0),n(""),u(null);try{let e=await l.A.post("http://127.0.0.1:5001/generate-gemini-overview",{reviews:t});n(e.data.overview||"No overview received.")}catch(e){console.error("Error fetching overview:",e),u("Error: Unable to fetch overview.")}o(!1)};return(0,a.jsxs)("div",{className:"max-w-md mx-auto p-4 flex flex-col items-center",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Gemini AI Overview Generator"}),(0,a.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded mr-2",onClick:v,disabled:i,children:i?"Generating...":"Generate Overview"}),r&&(0,a.jsx)("button",{onClick:()=>{if(!r){alert("No overview available to speak.");return}if(c){window.speechSynthesis.cancel(),d(!1);return}let e=new SpeechSynthesisUtterance(r);m.current=e,e.rate=1,e.pitch=1,e.volume=1,e.lang="hi-GB",e.onstart=()=>d(!0),e.onend=()=>d(!1),e.onerror=()=>{d(!1)},window.speechSynthesis.speak(e)},className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded inline-flex items-center ml-2",disabled:i,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),"Stop"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Listen"]})}),h&&(0,a.jsx)("p",{className:"text-red-500 mt-3",children:h}),r&&(0,a.jsxs)("div",{className:"mt-4 p-4 border rounded bg-gray-800 text-white",children:[(0,a.jsx)("h2",{className:"font-semibold mb-2",children:"Overview:"}),(0,a.jsx)("p",{children:r})]})]})}function i(e){let{reviews:t}=e,[r,n]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[h,u]=(0,s.useState)(null),m=(0,s.useRef)(null),v=async()=>{if(!t||0===t.length){alert("No reviews available to summarize.");return}let e=t.slice(0,5);o(!0),n(""),u(null);try{let t=await l.A.post("http://127.0.0.1:5001/generate-gemini-overview",{reviews:e});n(t.data.overview||"No overview received.")}catch(e){console.error("Error fetching overview:",e),u("Error: Unable to fetch overview.")}o(!1)};return(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded transition duration-200 w-full",onClick:v,disabled:i||!t||0===t.length,children:i?"Generating...":"Summary of Top Reviews"}),h&&(0,a.jsx)("div",{className:"p-3 bg-red-100 border border-red-300 rounded text-red-700 mt-4",children:h}),r&&(0,a.jsxs)("div",{className:"p-4 border rounded bg-gray-50 mt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Summary:"}),(0,a.jsxs)("button",{onClick:()=>{if(!r){alert("No summary available to speak.");return}if(c){window.speechSynthesis.cancel(),d(!1);return}let e=new SpeechSynthesisUtterance(r);m.current=e,e.rate=1,e.pitch=1,e.volume=1,e.lang="hi-GB",e.onstart=()=>d(!0),e.onend=()=>d(!1),e.onerror=()=>{d(!1)},window.speechSynthesis.speak(e)},className:"flex items-center space-x-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md text-sm",children:[(0,a.jsx)("span",{children:c?"Stop":"Listen"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c?(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"}):(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})]})]}),(0,a.jsx)("p",{className:"text-gray-800",children:r})]})]})}function o(){let[e,t]=(0,s.useState)(""),[r,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[h,u]=(0,s.useState)("Date"),[m,v]=(0,s.useState)(null),[x,p]=(0,s.useState)([]),w=e=>/^(https?:\/\/)?(www\.)?amazon\.[a-z]{2,3}\/.*$/.test(e),b=async()=>{if(!w(e)){alert("Invalid Amazon URL");return}d(!0),v(null);try{let t=await l.A.post("http://127.0.0.1:5001/scrape-amazon",{url:e});o(t.data)}catch(e){console.error("Error fetching reviews:",e),v("Error fetching reviews")}d(!1)},g=()=>r?[...r.Reviews].sort((e,t)=>"Rating"===h?parseFloat(t.Rating)-parseFloat(e.Rating):"Date"===h?new Date(t.Date).getTime()-new Date(e.Date).getTime():0):[],f=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e].slice(0,5))};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto p-4 flex gap-4 flex-col items-center mt-10",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Amazon Product Review Scraper"}),(0,a.jsx)("input",{type:"text",placeholder:"Enter Amazon Product URL",className:"w-full p-2 border rounded-full mb-2",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("button",{onClick:b,className:"text-white px-4 py-2 rounded-full mb-4 bg-black/10 border border-white-100 hover:bg-white/10 hover:bg-opacity-20 transition duration-200",disabled:c,children:c?"Fetching...":"Scrape Reviews"}),m&&(0,a.jsx)("p",{className:"text-red-500",children:m}),r&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold",children:["Product: ",r.Product]}),(0,a.jsxs)("p",{className:"mb-2",children:["Overall Rating: ",r.Rating]}),(0,a.jsx)("label",{children:"Sort by: "}),(0,a.jsxs)("select",{value:h,onChange:e=>u(e.target.value),className:"border p-1 mb-4 ",children:[(0,a.jsx)("option",{value:"Date",children:"Date"}),(0,a.jsx)("option",{value:"Rating",children:"Rating"})]}),g().map((e,t)=>(0,a.jsxs)("div",{className:"border-none p-2 my-2 bg-white/10 rounded cursor-pointer ".concat(x.includes(e)?"bg-blue-100":""),onClick:()=>f(e),children:[(0,a.jsxs)("h3",{className:"font-semibold",children:["â­ ",e.Rating," - ",e.Title]}),(0,a.jsxs)("p",{className:"text-sm",children:["By ",e.Author," on ",e.Date]}),(0,a.jsx)("p",{children:e.Review})]},t))]}),r&&(0,a.jsx)(i,{reviews:g()}),(0,a.jsx)("div",{className:"h-4"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(n,{selectedReviews:x})})]})}},8333:(e,t,r)=>{Promise.resolve().then(r.bind(r,7058))}},e=>{var t=t=>e(e.s=t);e.O(0,[651,441,587,358],()=>t(8333)),_N_E=e.O()}]);